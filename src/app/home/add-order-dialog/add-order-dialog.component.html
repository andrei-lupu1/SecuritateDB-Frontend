<div class="container center">
    <h2>Add an order</h2>
    <form [formGroup]="orderForm" class="formfield">
        <mat-form-field>
            <mat-label>Description</mat-label>
            <input matInput formControlName="Description">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Ammount</mat-label>
            <input matInput type="number" formControlName="Ammount">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Payment method</mat-label>
            <mat-select formControlName="PaymentMethodId">
                @for(paymentMethod of paymentMethods; track paymentMethod){
                    <mat-option [value]="paymentMethod.Id">
                        {{paymentMethod.Name}}
                    </mat-option>
                }
            </mat-select>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Recipient name</mat-label>
            <input matInput formControlName="RecipientName">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Recipient phone</mat-label>
            <input matInput type="tel" formControlName="RecipientPhone">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Recipient email</mat-label>
            <input matInput type="email" formControlName="RecipientEmail">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Recipient address</mat-label>
            <input matInput formControlName="Address">
        </mat-form-field>
        <mat-form-field>
            <mat-label>County</mat-label>
            <mat-select formControlName="CountyId">
                @for(county of counties; track county){
                    <mat-option [value]="county.id">
                        {{county.name}}
                    </mat-option>
                }
            </mat-select>
        </mat-form-field>
        @if(this.orderForm.get('CountyId')!.value != 0){
            <mat-form-field>
                <mat-label>City</mat-label>
                <mat-select formControlName="CityId">
                    @for(city of counties[this.orderForm.get('CountyId')!.value - 1].cities; track city){
                        <mat-option [value]="city.id">
                            {{city.nume}}
                        </mat-option>
                    }
                </mat-select>
            </mat-form-field>
        }
        <mat-form-field>
            <mat-label>ZIP Code</mat-label>
            <input matInput formControlName="ZipCode">
        </mat-form-field>
    </form>
    <div class="flex-row">
        <button mat-raised-button (click)="addOrder()" color="primary">Add order</button>
        <button mat-raised-button (click)="close()">Close</button>
    </div>
</div>